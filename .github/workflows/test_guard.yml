name: Deployment Workflow

on:
  workflow_dispatch:

jobs:
  guard:
    uses: MM-DevTests/SharedRepo/.github/workflows/deployment_guard.yml@main

  deploy:
    needs: guard
    runs-on: ubuntu-latest
    if: ${{ needs.guard.outputs.allow == 'true' }}
    steps:
      - run: echo "ðŸš€ Deployment running..."

  blocked:
    needs: guard
    runs-on: ubuntu-latest
    if: ${{ needs.guard.outputs.allow != 'true' }}
    steps:
      - run: echo "ðŸš« Deployment blocked by org guard."
